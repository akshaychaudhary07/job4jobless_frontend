<div class="container">
  <h2>Update User Profile</h2>

  <form [formGroup]="userform" (ngSubmit)="updateUser()">
    <input type="hidden" formControlName="userName" [value]="abc" />

    <div class="form-group">
      <label for="empfname">First Name*</label>
      <input type="text" id="empfname" formControlName="userFirstName" class="form-control" required>
      <div *ngIf="userform.get('userFirstName')?.hasError('required') && userform.get('userFirstName')?.touched"
        class="text-danger">First Name is required.
      </div>
      <div *ngIf="userform.get('userFirstName')?.hasError('pattern') && userform.get('userFirstName')?.touched"
        class="text-danger">Invalid Name.
      </div>
    </div>
    <div class="form-group">
      <label for="emplname">Last Name*</label>
      <input type="text" id="emplname" formControlName="userLastName" class="form-control" required>
      <div *ngIf="userform.get('userLastName')?.hasError('required') && userform.get('userLastName')?.touched"
        class="text-danger">Last Name is required.
      </div>
      <div *ngIf="userform.get('userLastName')?.hasError('pattern') && userform.get('userLastName')?.touched"
        class="text-danger">Invalid Name.
      </div>
    </div>

    <div class="form-group">
      <label for="empphone">Phone*</label>
      <input type="tel" id="empphone" class="form-control" formControlName="userphone" placeholder="Enter Phone"
        required pattern="[0-9]{10}">
      <div *ngIf="userform.get('userphone')?.hasError('required') && userform.get('userphone')?.touched"
        class="text-danger">Phone number is required.
      </div>
      <div *ngIf="userform.get('userphone')?.hasError('pattern') && userform.get('userphone')?.touched"
        class="text-danger">Please enter a valid phone number with 10 digits.
      </div>
    </div>
    <div class="form-group">
      <label for="usercountry">Country*</label>
      <select id="usercountry" (change)="onCountryChange($event)" formControlName="usercountry" class="form-control" required>
        <option value="">Select your country</option>
        <option *ngFor="let country of countries" [value]="country.iso2">{{ country.name }}</option>
      </select>
      <div *ngIf="userform.get('usercountry')?.hasError('required') && userform.get('usercountry')?.touched"
        class="text-danger">Country is required.
      </div>
    </div>
    <div *ngIf="userform.get('usercountry')?.hasError('required') && userform.get('usercountry')?.touched"
      class="text-danger">
      Country is required.
    </div>
    <div class="form-group">
      <label for="userstate">State*</label>

<select id="userstate" class="form-control" formControlName="userstate" (change)="onStateChange($event)">
 <option value="">Select your state</option>
    <option *ngFor="let state of states" [value]="state.iso2">{{ state.name }}</option>
  </select>
<!--      <input type="text" id="empstate" formControlName="userstate" class="form-control" required>-->
      <div *ngIf="userform.get('userstate')?.hasError('required') && userform.get('userstate')?.touched"
        class="text-danger">State is required.
      </div>
      <div *ngIf="userform.get('userstate')?.hasError('pattern') && userform.get('userstate')?.touched"
        class="text-danger">Invalid State.
      </div>
    </div>
    <div class="form-group">
      <label for="usercity">City*</label>
      <!--<input type="text" id="empcity" formControlName="usercity" class="form-control" required>-->
  <select id="usercity" class="form-control" formControlName="usercity">
 <option value="">Select your city</option>
    <option *ngFor="let city of cities">{{ city.name }}</option>
  </select>
      <div *ngIf="userform.get('usercity')?.hasError('required') && userform.get('usercity')?.touched"
        class="text-danger">State is required.
      </div>
      <div *ngIf="userform.get('usercity')?.hasError('pattern') && userform.get('usercity')?.touched"
        class="text-danger">Invalid State.
      </div>
    </div>
    <div class="form-group d-flex align-items-center">
      <label for="userlinkden" class="github-label">Linked URL:*</label>
      <input type="url" class="form-control black-border"
        formControlName="userlinkden" placeholder="Enter LinkedIn URL">
      <div
        *ngIf="userform.get('userlinkden')?.hasError('required') && userform.get('userlinkden')?.touched"
        class="text-danger">Url is required.
      </div>
    </div>

    <div class="form-group d-flex align-items-center">
      <label for="usergithub" class="github-label">Github URL:*</label>
      <input type="url" class="form-control black-border"
        formControlName="usergithub" placeholder="Enter GitHub URL">
      <div
        *ngIf="userform.get('usergithub')?.hasError('required') && userform.get('usergithub')?.touched"
        class="text-danger">Url is required.
      </div>
    </div>
    <div class="form-group">
      <label for="otherturluser">Other URL:</label>
      <input type="text" id="otherturluser" formControlName="otherturluser" class="form-control" >
    </div>
    <button type="submit" class="btn custom-btn mt-3 rounded-pill" [disabled]="!userform.valid">Save Profile</button>
  </form>
</div>
